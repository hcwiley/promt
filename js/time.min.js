(function(){function n(r){if(!(this instanceof n))return new n(r);if(r){var o=n.re.exec(i(r));o&&(this.hours=parseInt(o[1]),this.minutes=o[2]?parseInt(o[2]):0,this.period=s(o[3]))}else{var u=new Date,a=u.getHours();this.hours=a>12?a-12:a,this.hours===0&&(this.hours=12),this.minutes=u.getMinutes(),this.period=a>11?t:e}}function r(e){var t=e.minutes<10?"0"+e.minutes:e.minutes,n=e.hours+":"+t;return e.period==undefined?n:n+" "+e.period}function i(e){return e.toString().replace(/\s/g,"")}function s(n){return n?n.match(/^p/i)==null?e:t:null}var e="am",t="pm";typeof module!="undefined"&&module.exports?module.exports=n:window.Time=n,n.re=/^(10|11|12|[1-9])(?::|\.)?([0-5][0-9])?([ap].?(m.?)?)?$/,n.prototype.nextDate=function(){if(!this.isValid())return null;var n=this.hours===12?0:this.hours;this.period===t&&(n+=12);var r=new Date;r.setHours(n),r.setMinutes(this.minutes),r.setSeconds(0),r.setMilliseconds(0);while(new Date>r)r.setHours(r.getHours()+12);return r.getHours()>11&&this.period===e?r.setHours(r.getHours()+12):r.getHours()<12&&this.period===t&&r.setHours(r.getHours()+12),r},n.isValid=function(e){return n.re.test(i(e))},n.prototype.isValid=function(){return n.isValid(r(this))},n.prototype.toString=function(){return this.isValid()?r(this):"invalid time"}})()
