(function(){function c(d){if(!(this instanceof c))return new c(d);if(d){var g=c.re.exec(e(d));g&&(this.hours=parseInt(g[1]),this.minutes=g[2]?parseInt(g[2]):0,this.period=f(g[3]))}else{var h=new Date,i=h.getHours();this.hours=i>11?i-12:i,this.minutes=h.getMinutes(),this.period=i>11?b:a}}function d(a){var b=a.minutes<10?"0"+a.minutes:a.minutes,c=a.hours+":"+b;return a.period==undefined?c:c+" "+a.period}function e(a){return a.toString().replace(/\s/g,"")}function f(c){return c?c.match(/^p/i)==null?a:b:null}var a="am",b="pm";typeof module!="undefined"&&module.exports?module.exports=c:window.Time=c,c.re=/^(10|11|12|[1-9])(?::|\.)?([0-5][0-9])?([ap].?(m.?)?)?$/,c.prototype.nextDate=function(){if(!this.isValid())return null;var c=this.hours===12?0:this.hours;this.period===b&&(c+=12);var d=new Date;d.setHours(c),d.setMinutes(this.minutes),d.setSeconds(0),d.setMilliseconds(0);while(new Date>d)d.setHours(d.getHours()+12);return d.getHours()>11&&this.period===a?d.setHours(d.getHours()+12):d.getHours()<12&&this.period===b&&d.setHours(d.getHours()+12),d},c.isValid=function(a){return c.re.test(e(a))},c.prototype.isValid=function(){return c.isValid(d(this))},c.prototype.toString=function(){return this.isValid()?d(this):"invalid time"}})()
